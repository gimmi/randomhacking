<html>
<head runat="server">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Home Page</title>
	<link rel="stylesheet" type="text/css" href="extjs/resources/css/ext-all.css" />

	<script type="text/javascript" src="extjs/adapter/ext/ext-base.js"></script>

	<script type="text/javascript" src="extjs/ext-all-debug.js"></script>

	<script type="text/javascript">
		Ext.BLANK_IMAGE_URL = 'extjs/resources/images/default/s.gif';
		Ext.namespace('SpikeWpf');
		SpikeWpf.invoke = function(url, jsonData, success) {
			Ext.Ajax.request({
				url: url,
				method: 'POST',
				jsonData: jsonData,
				success: success,
				failure: function(response, options) {
					alert('ko');
				}
			});
		};

		Ext.onReady(function() {
			SpikeWpf.invoke('/CustomerService.svc/GetAll', { customer: { Id: 3, Name: 'Customer from javascript'} }, function(response, options) {
				Ext.get('get-p').update(response.responseText);
			});
		});
	</script>

</head>
<body>
	<p id="get-p" />
</body>
</html>
